# <div align = "center">Rustå­¦ä¹ ç¬”è®°</div>

> * Ubuntu22.04 
> * Rust 1.8.0
> * å¯ä»¥ä½¿ç”¨rustup docæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£(åœ¨å®‰è£…rustæ—¶éƒ½å·²ç»ä¸‹è½½åˆ°æœ¬åœ°)
> * ä½¿ç”¨firefoxæ‰“å¼€æ—¶ä¼šé‡åˆ°æƒé™é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨è½¬ç§»æ–‡ä»¶å¤¹å¹¶ä¸åŸæ–‡ä»¶å¤¹è¿›è¡Œè½¯é“¾æ¥çš„æ–¹å¼è§£å†³ï¼Œå‚è€ƒ[askubuntu](https://askubuntu.com/questions/1419528/how-do-i-access-rust-documentation)

## 1. Hello World

* ``rust``æ–‡ä»¶ä»¥``.rs``ä¸ºåç¼€
* ç¼–è¯‘``rust``ä»£ç éœ€è¦ä½¿ç”¨``rustc filename.rs``è¿›è¡Œç¼–è¯‘
* ä½†``rustc``åªé€‚åˆç®€å•çš„``rust``ç¨‹åº

```rust
fn main() {
    println!("hello world");
}
```

## 2. Cargo

### 2.1 Cargoåˆ›å»ºé¡¹ç›®

* ``Cargo``æ˜¯``Rust``çš„æ„å»ºç³»ç»Ÿå’ŒåŒ…ç®¡ç†å·¥å…·ï¼šæ„å»ºä»£ç ã€ä¸‹è½½ä¾èµ–çš„åº“ã€æ„å»ºè¿™äº›åº“

  * è¿™é‡Œæˆ‘çš„ç‰ˆæœ¬ä¸º``1.80.0``

* ä½¿ç”¨``Cargo``åˆ›å»ºé¡¹ç›®

  ```shell
  cargo new project_name
  ```

* ä½¿ç”¨``Cargo``åˆ›å»ºçš„é¡¹ç›®ä¸‹æœ‰ä¸€ä¸ª``src``æ–‡ä»¶å¤¹(ä¸‹æœ‰``main.rs``)å’Œ``Cargo.toml``

### 2.2 Cargo.toml

* TOML(Tom's Obivious, Minimal Language)ï¼Œæ˜¯Cargoçš„é…ç½®æ ¼å¼

  ```toml
  [package]
  name = "rust"
  version = "0.1.0"
  edition = "2021"
  
  [dependencies]
  ```

* packageä¸‹æ–¹çš„å†…å®¹ä½¿ç”¨æ¥é…ç½®åŒ…(package)çš„

* dependenciesä¸­åˆ—å‡ºé¡¹ç›®çš„ä¾èµ–é¡¹

* **åœ¨Rustä¸­ï¼Œä»£ç çš„åŒ…ç§°ä¸ºcrate**

### 2.3 Cargoæ„å»ºé¡¹ç›®

> åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤

* ``cargo build``ï¼šç¼–è¯‘ï¼Œå¯æ‰§è¡Œæ–‡ä»¶ç”Ÿæˆåœ¨``target/debug``ç›®å½•ä¸‹
* ```cargo run```ï¼šç¼–è¯‘+æ‰§è¡Œ
* ç¬¬ä¸€æ¬¡è¿è¡Œä¼šåœ¨é¡¶å±‚ç”Ÿæˆ```cargo.lock```æ–‡ä»¶

* ``cargo check``ï¼šæ£€æŸ¥ä»£ç èƒ½å¦é€šè¿‡ç¼–è¯‘è€Œä¸äº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ¯”``cargo build``é€Ÿåº¦æ›´å¿«

* é»˜è®¤æƒ…å†µä¸‹``cargo build``ç”¨äºå¼€å‘æ—¶æ„å»ºé¡¹ç›®ï¼Œå½“éœ€è¦å‘å¸ƒç¨‹åºæ—¶ï¼Œä½¿ç”¨``cargo build --release``(åŠ ä¸€ä¸ªå‚æ•°)
  * ä»£ç è¿è¡Œæ—¶é—´æ›´çŸ­ä½†ç¼–è¯‘æ—¶é—´å˜é•¿
  * å¯æ‰§è¡Œæ–‡ä»¶ç”Ÿæˆåœ¨``target/release``ç›®å½•ä¸‹

## 3.çŒœæ•°æ¸¸æˆ

### 3.1 å¢åŠ ä¾èµ–é¡¹

â€‹	æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€ä¸ªéšæœºæ•°åŒ…``rand``ï¼Œæ­¤æ—¶éœ€è¦åœ¨é¡¹ç›®çš„``Cargo.toml``ä¸­çš„``[dependencies]``å¢åŠ å¯¹åº”çš„åŒ…ä»¥åŠç‰ˆæœ¬(è¿™é‡ŒDependiæ’ä»¶ä¼šè¿›è¡Œç‰ˆæœ¬æ£€æŸ¥ï¼Œå¯ä»¥ä½¿ç”¨``^``è¡¨ç¤ºå…¼å®¹æ­¤ç‰ˆæœ¬çš„å…¶ä»–ç‰ˆæœ¬éƒ½å¯ä»¥)

```toml
# Cargo.toml
[dependencies]
rand = "^0.8.5"
```

â€‹	cargoä¼šä¸‹è½½å¯¹åº”çš„åŒ…ä»¥åŠè¯¥åŒ…ä¾èµ–çš„å…¶ä»–åŒ…ï¼Œå¹¶åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ•´åˆã€‚cargoæä¾›äº†åŒ…ç¯å¢ƒçš„ç®¡ç†ï¼Œå¯ä»¥å‘ç°åœ¨``Cargo.lock``ä¸­æœ‰è¿™äº›åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ç­‰ï¼Œå½“å…¶ä»–äººè¿è¡Œæˆ‘ä»¬çš„ä»£ç æ—¶ï¼Œ**é€šè¿‡``Cargo.lock``ä¸€å®šä¼šå¾—åˆ°ç›¸åŒçš„å¤ç°ç»“æœã€‚**

```toml
# Cargo.lock 
# ä»¥randä¸ºä¾‹
[[package]]
name = "rand"
version = "0.8.5"
source = "registry+https://github.com/rust-lang/crates.io-index"
checksum = "34af8d1a0e25924bc5b7c43c079c942339d8f0a8b57c39049bef581b46327404"
dependencies = [
 "libc",
 "rand_chacha",
 "rand_core",
]
```

â€‹	å¦‚æœéœ€è¦æ›´æ–°package,å¯ä»¥ä½¿ç”¨``cargo update``è¿›è¡Œindexè¡¨çš„æ›´æ–°ï¼Œä¹‹åä½¿ç”¨indexè¡¨è¿›è¡ŒåŒ…çš„å®‰è£…è€Œå¿½ç•¥``Cargo.lock``ï¼Œæœ€åå°†æ–°çš„ç‰ˆæœ¬ä¿¡æ¯æ›´æ–°åˆ°``Cargo.lock``ä¸­ï¼Œä½†ä¸ä¼šæ›´æ–°åˆ°``Cargo.toml``ä¸­ã€‚

### 3.2 code

```rust
use std::io; // prelude æ ‡å‡†ioåº“
use rand::Rng; // trait æ¥å£
use std::cmp::Ordering; // enum

fn main() {
    let secret_number = rand::thread_rng().gen_range(1..101);
    println!("the secret number is {}", secret_number);

    loop {
        println!("guess a number!"); 
        // ï¼è¡¨ç¤ºprintlnæ˜¯ä¸€ä¸ªå®

        let mut guess = String::new(); // let å£°æ˜å˜é‡ 
        // rustä¸­å˜é‡é»˜è®¤ä¸ºä¸å¯å˜çš„ immutable å¦‚æœéœ€è¦å˜é‡ï¼Œåˆ™å¯ä»¥å¢åŠ mutå…³é”®å­—
        
        io::stdin().read_line(&mut guess).expect("can not read a number"); // æ–¹æ³•å‚æ•°æŒ‰ç…§å¼•ç”¨ä¼ é€’
        // io::Result Ok,Err
        
        println!("Your number is {}", guess);
        // {}è¡¨ç¤ºå ä½ç¬¦ å…¶ä¸­çš„å†…å®¹ä¸ºguess

        // let guess:u32 = guess.trim().parse().expect("Form Err! Please type a new number!");
        // è¿›è¡Œç±»å‹è½¬æ¢ å°†å­—ç¬¦ä¸²ç±»å‹Stringè½¬æ¢ä¸ºu32
        // å¯ä»¥ä½¿ç”¨åŸå˜é‡å å¯¹æ—§å˜é‡è¿›è¡Œéšè—

        let guess:u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };
        // ä½¿ç”¨matchæ¥è§£å†³å¼‚å¸¸ 
    
        match guess.cmp(&secret_number) {
            Ordering::Less => println!("Too SMALL!"),
            Ordering::Greater => println!("Too BIG!"),
            Ordering::Equal => {
                println!("YOU WIN!");
                break;
            }
        }
    }
    
}
```

## 4. RuståŸºç¡€

### 4.1 å˜é‡ä¸å¯å˜æ€§

* å£°æ˜å˜é‡ä½¿ç”¨``let``å…³é”®å­—

* é»˜è®¤æƒ…å†µä¸‹ï¼Œå˜é‡æ˜¯ä¸å¯å˜ï¼Œ**åœ¨å£°æ˜å˜é‡æ—¶ï¼Œåœ¨å˜é‡å‰åŠ ä¸Š``mut``å°±å¯ä»¥ä½¿å˜é‡å¯å˜**

  ```rust
  let mut x = 5;
  ```

* å£°æ˜å¸¸é‡ä½¿ç”¨``const``å…³é”®å­—ï¼Œä»–çš„ç±»å‹å¿…é¡»è¢«æ ‡æ³¨

  * å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸ

  * å¸¸é‡åªå¯ä»¥ç»‘å®šåˆ°å¸¸é‡è¡¨è¾¾å¼ï¼Œæ— æ³•ç»‘å®šåˆ°å‡½æ•°çš„è°ƒç”¨ç»“æœæˆ–ä¹‹æ©é‚£ä¸ªåœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºçš„å€¼

  * **å‘½åè§„èŒƒï¼šRustä¸­å¸¸é‡ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œæ¯ä¸ªå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å¼€**

    ```rust
    const MAX_POINTS: u32 = 100_000;
    ```

> Rustçš„ç¼–è¯‘å™¨ååˆ†æ™ºèƒ½ï¼Œå¯¹äºä½¿ç”¨letå£°æ˜çš„å˜é‡ï¼Œå…¶å˜é‡ç±»å‹ä¼šç”±ç¼–è¯‘å™¨è¿›è¡Œæ¨æ–­è€Œä¸éœ€è¦æ˜ç¡®æŒ‡å‡º

* **Shadowing(éšè—)**
  * åœ¨Rustä¸­å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å˜é‡åå£°æ˜æ–°çš„å˜é‡ï¼Œæ–°çš„å˜é‡ä¼šshadowä¹‹å‰çš„åŒåå˜é‡
  * åç»­ä»£ç ä¸­å˜é‡ä¸ºä»£è¡¨çš„æ˜¯æ–°å˜é‡
  * **shadowå’ŒæŠŠå˜é‡å£°æ˜ä¸ºmutæ˜¯ä¸åŒçš„**
    * ä¸ä½¿ç”¨letå…³é”®å­—ï¼Œé‡æ–°ç»™émutå˜é‡èµ‹å€¼äº§ç”Ÿç¼–è¯‘é”™è¯¯
    * ä½¿ç”¨letå£°æ˜å‡ºçš„æ–°å˜é‡ä¹Ÿæ˜¯ä¸å¯å˜çš„
    * **ä½¿ç”¨letå£°æ˜çš„åŒåæ–°å˜é‡ç±»å‹å¯ä»¥ä¸ä¹‹å‰ä¸åŒ**

### 4.2 æ•°æ®ç±»å‹

* **æ ‡é‡å’Œå¤åˆç±»å‹**

* Rustæ˜¯é™æ€ç¼–è¯‘è¯­è¨€ï¼Œåœ¨ç¼–è¯‘æ—¶å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹

  * **åŸºäºä½¿ç”¨çš„å€¼ï¼ŒRustç¼–è¯‘å™¨é€šå¸¸èƒ½å¤Ÿæ¨æ–­å‡ºä»–çš„å…·ä½“ç±»å‹**

  * ä½†å¦‚æœå¯èƒ½çš„ç±»å‹æ¯”è¾ƒå¤šï¼Œä¾‹å¦‚æŠŠStringè½¬ä¸ºæ•´æ•°çš„parseæ–¹æ³•ï¼Œå°±å¿…é¡»æ·»åŠ ç±»å‹æ ‡æ³¨ï¼Œå¦åˆ™å¯èƒ½å‡ºé”™ï¼Œä¾‹å¦‚ä¸‹ä¾‹ä¸­42è¢«æ¨æ–­ä¸º``u32/i32``éƒ½æ˜¯åˆç†çš„ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®š

    ```rust
    let guess:i32= "42".parse().expect("Not a number!");
    ```

#### 4.2.1 æ ‡é‡ç±»å‹

* ä¸€ä¸ªæ ‡é‡ç±»å‹ä»£è¡¨ä¸€ä¸ªå•ä¸ªçš„å€¼

* Rustæœ‰å››ä¸ªä¸»è¦çš„æ ‡é‡ç±»å‹

  * æ•´æ•°ç±»å‹

  * æµ®ç‚¹ç±»å‹
  * å¸ƒå°”ç±»å‹
  * å­—ç¬¦ç±»å‹

##### 4.2.1.1 æ•´æ•°ç±»å‹

* æ— ç¬¦å·``u``/æœ‰ç¬¦å·``i``
* ä½å®½ï¼š8/16/32/64/128/arch
* å…³äºarchï¼š``isize/usize``ä½å®½ç”±è®¡ç®—æœºæ¶æ„å†³å®š
* æ•´æ•°å­—é¢å€¼ï¼šDec/Hex/Octal/Binary/Byte,å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å‰²å¢å¼ºå¯è¯»æ€§
* é™¤äº†byteç±»å‹å¤–ï¼Œ**æ•°å€¼å­—é¢å€¼éƒ½å…è®¸ä½¿ç”¨ç±»å‹åç¼€ï¼Œä¾‹å¦‚10u32**
* æ•´æ•°çš„é»˜è®¤ç±»å‹ä¸º``i32``
* æ•´æ•°æº¢å‡ºï¼š
  * åœ¨è°ƒè¯•æ¨¡å¼ä¸‹ç¼–è¯‘(``build``)ï¼š``Rust``ä¼šæ£€æŸ¥æ•´æ•°æº¢å‡ºï¼Œå¦‚æœå‘ç”Ÿæº¢å‡ºï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶å°±ä¼š``panic``
  * åœ¨å‘å¸ƒæ¨¡å¼ä¸‹ç¼–è¯‘(``build --release``)ï¼š``Rust``ä¸ä¼šæ£€æŸ¥å¯èƒ½å¯¼è‡´``panic``çš„æ•´æ•°æº¢å‡ºï¼Œå¦‚æœå‘ç”Ÿæº¢å‡ºï¼Œ``Rust``ä¼šè¿›è¡Œç¯ç»•æ“ä½œï¼Œä¾‹å¦‚256->0,257->1

##### 4.2.1.2 æµ®ç‚¹ç±»å‹

* å•ç²¾åº¦/åŒç²¾åº¦ï¼š``f32/f64``
* é»˜è®¤ç±»å‹ä¸º``f64``ï¼ˆåœ¨ç°ä»£CPUä¸Šf32ä¸f64é€Ÿåº¦å·®ä¸å¤šï¼Œè€Œä¸”f64é€Ÿåº¦æ›´å¿«ï¼‰
* æ”¯æŒåŠ å‡ä¹˜é™¤ä½™ç­‰``+-*/%``

##### 4.2.1.3 å¸ƒå°”ç±»å‹

* true/false

##### 4.2.1.4 å­—ç¬¦ç±»å‹

* charç±»å‹è¢«ç”¨æ¥è¡¨è¿°è¯­è¨€ä¸­æœ€åŸºç¡€çš„å•ä¸ªå­—ç¬¦

* **å­—ç¬¦ç±»å‹çš„å­—é¢å€¼ä½¿ç”¨å•å¼•å·**

* **ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼ŒRustä¸­å­—ç¬¦ç±»å‹å ç”¨4å­—èŠ‚å¤§å°**

* Rustä¸­å­—ç¬¦ç±»å‹æ˜¯ä¸€ä¸ª``Unicode``æ ‡é‡å€¼ï¼Œå¯ä»¥è¡¨ç¤ºæ¯”ASCIIå¤šå¾—å¤šçš„å­—ç¬¦å†…å®¹ï¼šæ‹¼éŸ³ã€ä¸­æ—¥éŸ©æ–‡ã€emojiè¡¨æƒ…ç­‰

  ```rust
  let emoji = 'ğŸ˜»';
  ```

#### 4.2.2 å¤åˆç±»å‹

* ç¬¦åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªç±»å‹ä¸­
* Rustæä¾›äº†ä¸¤ç§åŸºç¡€çš„ç¬¦åˆç±»å‹ï¼šå…ƒç»„/æ•°ç»„

##### 4.2.2.1 Tuple

* å°†å¤šä¸ªç±»å‹çš„å¤šä¸ªå€¼æ”¾åœ¨ä¸€ä¸ªå…ƒç»„ä¸­

* Tupleé•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¸€æ—¦å£°æ˜å°±æ— æ³•ä¿®æ”¹

* **åˆ›å»ºtupleï¼šåœ¨å°æ‹¬å·ä¸­ï¼Œå°†å€¼ç”¨é€—å·åˆ†å¼€ï¼Œtupleä¸­æ¯ä¸ªä½ç½®å¯¹åº”ä¸€ä¸ªç±»å‹ï¼Œå…¶ä¸­å„å…ƒç´ ç±»å‹ä¸å¿…ç›¸åŒï¼Œå¯ä»¥æ˜¾ç¤ºæŒ‡æ˜æ¯ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œä¹Ÿå¯ä»¥è®©ç¼–è¯‘å™¨è‡ªåŠ¨æ¨æ–­**

  ```rust
  let tup = (500, 6.4, 1);
  let tup1:(i32, f64, u8) = (500, 6.4, 1);
  ```

* **è·å–tupleå…ƒç´ å€¼**ï¼šå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…æ¥**è§£æ„**ä¸€ä¸ªtupleæ¥è·å–å…ƒç´ çš„å€¼

  ```rust
  let tup = (500, 6.4, 1);
  let (a, b, c) = tup;
  println!("The value of a is: {}", a);
  println!("The value of b is: {}", b);
  println!("The value of c is: {}", c);
  ```

* **è®¿é—®tupleçš„å…ƒç´ **ï¼šåœ¨tupleå˜é‡ä½¿ç”¨ç‚¹æ ‡è®°æ³•ï¼Œåæ¥å…ƒç´ çš„ç´¢å¼•å·

  ```rust
  println!("The value of tup.0 is: {}", tup.0);
  println!("The value of tup.1 is: {}", tup.1);
  println!("The value of tup.2 is: {}", tup.2);
  ```

##### 4.2.2.2 Array

* æ•°ç»„ä¸­å…ƒç´ ç±»å‹å¿…é¡»ç›¸åŒ

* **å£°æ˜ä¸€ä¸ªæ•°ç»„**ï¼šç”¨ä¸­æ‹¬å·å£°æ˜ï¼Œé€—å·åˆ†éš”

  ```rust
  let arr = [1, 2, 3, 4, 5];
  ```

* **ç”¨å¤„**ï¼šå¦‚æœæƒ³è®©æ•°æ®å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸Šï¼Œè€Œä¸æ˜¯å †å†…å­˜ä¸Šï¼Œæˆ–è€…æƒ³è¦ä¿æœ‰å›ºå®šä¸ªæ•°çš„å…ƒç´ ï¼Œä½¿ç”¨æ•°ç»„æ›´å¥½

* æ ‡å‡†åº“æä¾›äº†Vectorï¼Œæ¯”æ•°ç»„æ›´åŠ çµæ´»(é•¿åº¦å¯å˜)

* **æ•°ç»„çš„ç±»å‹**ï¼š``[ç±»å‹; é•¿åº¦]``

  * å¦ä¸€ç§å£°æ˜æ•°ç»„çš„æ–¹æ³•ï¼š**å¦‚æœæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å€¼éƒ½ç›¸åŒï¼Œå¯ä»¥åœ¨ä¸­æ‹¬å·ä¸­æŒ‡å®šå€¼ï¼Œåæ¥æ•°ç»„é•¿åº¦**

    ```rust
    let a = [3;5];
    // let a = [3,3,3,3,3];
    ```

* **è®¿é—®æ•°ç»„çš„å…ƒç´ **ï¼šæ•°ç»„æ˜¯åœ¨stackä¸Šåˆ†é…çš„å•ä¸ªçš„å—å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨**ç´¢å¼•**è¿›è¡Œè®¿é—®

  * **æ•°ç»„è¶Šç•Œ**ï¼šç¼–è¯‘é€šè¿‡ã€è¿è¡Œæ—¶æŠ¥é”™(``runtime panic``)(**ä¸å…è®¸ç»§ç»­è®¿é—®ç›¸åº”åœ°å€çš„å†…å­˜ï¼Œä¸C/C++ä¸åŒ**)
    * æ³¨ï¼š**ç»å¤§éƒ¨åˆ†æ•°ç»„è¶Šç•Œåœ¨ç¼–è¯‘æ—¶å°±ä¼šå‘ç°å¹¶æŠ¥é”™**

### 4.3 å‡½æ•°

* å£°æ˜å‡½æ•°ä½¿ç”¨```fn```å…³é”®å­—

* é’ˆå¯¹å‡½æ•°å’Œå˜é‡åï¼ŒRusté‡‡ç”¨``snake case``å‘½åè§„èŒƒï¼šæ‰€æœ‰çš„å­—æ¯éƒ½æ˜¯å°å†™çš„ï¼Œå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†å¼€

* ä¸åŒäºC/C++ç­‰è¾ƒä¸ºå¤è€çš„è¯­è¨€ï¼Œ**Rustä¸­ä¸å¿…å…³å¿ƒå‡½æ•°çš„å£°æ˜å…ˆåä»¥åŠè°ƒç”¨é¡ºåº**

  ```rust
  fn main() {
      println!("Hello, world!");
      another_function();
  }
  
  fn another_function() {
      println!("Another function.");
  }
  ```

* **å‡½æ•°çš„å‚æ•°**ï¼š``parameters(å½¢å‚), arguments(å®å‚)``

  * **åœ¨å‡½æ•°ç­¾åä¸­ï¼Œå¿…é¡»å£°æ˜å‚æ•°çš„ç±»å‹**

    ```rust
    fn another_function(a: i32, b: i32) {
        println!("The value of a is: {}", a);
        println!("The value of b is: {}", b);
    }
    ```

* **Rustå‡½æ•°ä½“ä¸­çš„è¯­å¥ä¸è¡¨è¾¾å¼(é‡è¦)**

  * å‡½æ•°ä½“ç”±ä¸€ç³»åˆ—**è¯­å¥**ç»„æˆï¼Œå¯é€‰çš„ç”±ä¸€ä¸ª**è¡¨è¾¾å¼**ç»“æŸ

  * Rustæ˜¯ä¸€ä¸ªåŸºäºè¡¨è¾¾å¼çš„è¯­è¨€

  * è¯­å¥æ˜¯æ‰§è¡Œä¸€äº›åŠ¨ä½œçš„æŒ‡ä»¤

  * è¡¨è¾¾å¼ä¼šè®¡ç®—äº§ç”Ÿä¸€ä¸ªå€¼

    ```rust
    // ç”¨{}åˆ›å»ºè¡¨è¾¾å¼
    let y = {
        let x = 3;
        x + 3
    }
    ```

  * å‡½æ•°çš„å®šä¹‰ä¹Ÿæ˜¯è¯­å¥

  * è¯­å¥ä¸è¿”å›å€¼(**è¿”å›å€¼æ˜¯ä¸€ä¸ªç©ºçš„tuple:``()``**)ï¼Œä¸å¯ä»¥ä½¿ç”¨letå°†ä¸€ä¸ªè¯­å¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡

  * **è¡¨è¾¾å¼ä¸è¯­å¥ç®€å•åŒºåˆ†ï¼šçœ‹æœ«å°¾æœ‰æ²¡æœ‰åˆ†å·**

    ```rust
    x + 3 // expression è¿”å›å¯¹åº”çš„è¿”å›å€¼
    x + 3; // statement è¿”å›ç©ºå…ƒç»„ç±»å‹ ()
    ```

* **å‡½æ•°çš„è¿”å›å€¼**ï¼šåœ¨``->``ç¬¦å·å³è¾¹å£°æ˜å‡½æ•°**è¿”å›å€¼çš„ç±»å‹**ï¼Œ**ä½†æ˜¯ä¸å¯ä»¥ä¸ºè¿”å›å€¼å‘½å**ã€‚

* **åœ¨Rustä¸­ï¼Œè¿”å›å€¼å°±æ˜¯å‡½æ•°ä½“ä¸­æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¦‚æœè¦æå‰è¿”å›ï¼Œéœ€è¦ä½¿ç”¨returnå…³é”®å­—**

  ```rust
  fn add(a:i32,b:i32) -> i32 {
      a + b // è¡¨è¾¾å¼åšè¿”å›å€¼(æ²¡æœ‰åˆ†å·)
  }
  ```

### 4.4 æ³¨é‡Š

> åŒCè¯­è¨€æ³¨é‡Š

### 4.5 æ§åˆ¶æµ

#### 4.5.1 if

* **ifè¡¨è¾¾å¼ä¸­å¿…é¡»æ˜¯``bool``ç±»å‹ï¼ŒC++ä¸­ä¼šå°†éboolè½¬æ¢ä¸ºboolï¼Œè¿™é‡Œéœ€è¦æ³¨æ„**

* ä¸€ç‚¹åŒºåˆ«æ˜¯ifåçš„æ¡ä»¶æ²¡æœ‰æ‹¬å·

  ```c++
  if x % 4 == 0 {
      println!("x is divisible by 4");
  } else if x % 3 == 0 {
      println!("x is divisible by 3");
  } else if x % 2 == 0 {
      println!("x is divisible by 2");
  } else {
      println!("x is not divisible by 4, 3, or 2");
  }
  ```

* **å¦‚æœä½¿ç”¨å¤šäºä¸€ä¸ªelse if,æœ€å¥½ä½¿ç”¨matchæ¥é‡æ„ä»£ç **

  ```rust
  match x {
      x if x % 4 == 0 => println!("x is divisible by 4"),
      x if x % 3 == 0 => println!("x is divisible by 3"),
      x if x % 2 == 0 => println!("x is divisible by 2"),
      _ => println!("x is not divisible by 4, 3, or 2"),
  }
  ```

* **ç”±äºifæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå¯ä»¥ç”¨æ¥åšèµ‹å€¼å³å€¼**

  ```rust
  fn main() {
      let condition = true;
  
      let number = if condition { 5 } else { 6 };
  
      println!("The value of number is: {}", number);
  }
  ```

#### 4.5.2 loop

* åå¤æ‰§è¡Œä»£ç å—å†…ä»£ç ï¼Œåœ¨loopå¾ªç¯ä¸­ä½¿ç”¨``break``æ¥å‘Šè¯‰ç¨‹åºä½•æ—¶åœæ­¢å¾ªç¯

```rust
let mut cnt = 0;
let result = loop {
	cnt += 1;

    if cnt == 10 {
        break cnt * 2;
    }
};
```

* **å¯ä»¥ä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨**

#### 4.5.3 while

```rust
while number != 0 {
    println!("{}", number);
    number -= 1;
}
```

#### 4.5.4 for

* ä½¿ç”¨while/loopéå†é›†åˆæ˜“é”™ä¸”ä½æ•ˆ
* ä½¿ç”¨forå¾ªç¯æ›´ç®€æ´ï¼Œå¯ä»¥é’ˆå¯¹é›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ æ¥æ‰§è¡Œä¸€äº›ä»£ç 

```rust
let arr = [10, 20, 30, 40, 50];
for element in arr.iter() {
    println!("The value is: {}", element);
}
```

* **Range**ï¼šæ ‡å‡†åº“æä¾›ï¼ŒæŒ‡å®šä¸€ä¸ªå¼€å§‹æ•°å­—å’Œä¸€ä¸ªç»“æŸæ•°å­—ï¼ŒRangeå¯ä»¥ç”Ÿæˆä»–ä»¬ä¹‹é—´çš„æ•°å­—(ä¸å«ç»“æŸ),**``rev``**æ–¹æ³•å¯ä»¥åè½¬Range

  ```rust
  for i in (1..4).rev() {
      println!("{}", i);
  }
  ```

### 4.6  æ‰€æœ‰æƒ

* Rustçš„æ ¸å¿ƒç‰¹æ€§å°±æ˜¯æ‰€æœ‰æƒ
* æ‰€æœ‰ç¨‹åºåœ¨è¿è¡Œæ—¶éƒ½å¿…é¡»ç®¡ç†ä»–ä»¬ä½¿ç”¨è®¡ç®—æœºå†…å­˜çš„æ–¹å¼
  * Javaè¯­è¨€ä¸­æœ‰åƒåœ¾æ”¶é›†æœºåˆ¶ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ä¼šä¸æ–­åœ°å¯»æ‰¾ä¸å†ä½¿ç”¨çš„å†…å­˜
  * C/C++ä¸­éœ€è¦ç¨‹åºå‘˜æ˜¾ç¤ºåˆ†é…å’Œé‡Šæ”¾å†…å­˜
  * **Rustæ˜¯é€šè¿‡ä¸€ä¸ªæ‰€æœ‰æƒç³»ç»Ÿæ¥ç®¡ç†çš„ï¼Œå…¶ä¸­åŒ…å«ä¸€ç»„ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶æ£€æŸ¥çš„è§„åˆ™**ï¼Œå½“ç¨‹åºè¿è¡Œæ—¶ï¼Œ**æ‰€æœ‰æƒç‰¹æ€§ä¸ä¼šå‡æ…¢ç¨‹åºçš„è¿è¡Œé€Ÿåº¦**

#### 4.6.1 Stack vs Heap

* Stack vs Heap
  * å¯¹äºRustç³»ç»Ÿçº§ç¼–ç¨‹æ¥è¯´ï¼Œäº†è§£æ•°æ®å­˜å‚¨åœ¨Stack/Heapå¾ˆæœ‰å¿…è¦
  * Stackï¼šLIFOï¼Œ**è¿›æ ˆ/å‡ºæ ˆ**
    * **æ‰€æœ‰å­˜å‚¨åœ¨Stackä¸Šçš„æ•°æ®å¿…é¡»æ‹¥æœ‰å·²çŸ¥çš„å›ºå®šçš„å¤§å°**
    * **ç¼–è¯‘æ—¶å¤§å°æœªçŸ¥çš„æ•°æ®æˆ–è¿è¡Œæ—¶å¤§å°å¯èƒ½å‘ç”Ÿå˜åŒ–çš„æ•°æ®å¿…é¡»å­˜æ”¾åœ¨heapä¸Š**
  * Heap
    * å†…å­˜ç»„ç»‡æ€§å·®ä¸€äº›
    * å½“æŠŠæ•°æ®æ”¾å…¥heapæ—¶ï¼Œä¼šè¯·æ±‚ä¸€å®šæ•°é‡çš„ç©ºé—´ï¼Œæ“ä½œç³»ç»Ÿåœ¨heapä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´ï¼ŒæŠŠä»–æ ‡è®°ä¸ºåœ¨ç”¨ï¼Œå¹¶è¿”å›ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º**åˆ†é…**
  * **è®¿é—®heapä¸­çš„æ•°æ®è¦æ¯”è®¿é—®stackä¸­çš„æ•°æ®æ…¢ï¼Œå› ä¸ºéœ€è¦é€šè¿‡æŒ‡é’ˆæ‰èƒ½æ‰¾åˆ°heapä¸­çš„æ•°æ®**
  * **å½“è°ƒç”¨å‡½æ•°æ—¶ï¼Œå€¼è¢«ä¼ å…¥åˆ°å‡½æ•°(åŒ…æ‹¬heapæŒ‡é’ˆ)ï¼Œå‡½æ•°æœ¬åœ°çš„å˜é‡è¢«å‹åˆ°stackä¸Šï¼Œå½“å‡½æ•°ç»“æŸåï¼Œè¿™äº›å€¼ä»stackä¸Šå¼¹å‡º**
* **æ‰€æœ‰æƒè§£å†³çš„é—®é¢˜ ï¼š ç®¡ç†heapæ•°æ®**
  * è·Ÿè¸ªä»£ç çš„å“ªäº›éƒ¨åˆ†æ­£åœ¨ä½¿ç”¨heapçš„å“ªäº›æ•°æ®
  * æœ€å°åŒ–heapä¸Šçš„é‡å¤æ•°æ®é‡
  * æ¸…ç†heapä¸Šæœªä½¿ç”¨çš„æ•°æ®ä»¥é¿å…ç©ºé—´ä¸è¶³

#### 4.6.2 æ‰€æœ‰æƒè§„åˆ™

* æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå˜é‡ã€è¿™ä¸ªå˜é‡æ˜¯è¯¥å€¼çš„æ‰€æœ‰è€…

* æ¯ä¸ªå€¼åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªæ‰€æœ‰è€…

* å½“æ‰€æœ‰è€…è¶…å‡ºä½œç”¨åŸŸï¼Œè¯¥å€¼å°†è¢«åˆ é™¤

* **å˜é‡ä½œç”¨åŸŸ(scope)**

* ä»¥Stringç±»å‹ä¸ºä¾‹(**å‰é¢æåˆ°çš„ç®€å•æ•°æ®ç±»å‹éƒ½å­˜å‚¨åœ¨Stackä¸Šï¼Œå½“ä»–ä»¬ç¦»å¼€ä½œç”¨åŸŸåï¼Œæ•°æ®ä¼šå¼¹å‡ºæ ˆï¼ŒStringæ•°æ®ç±»å‹å­˜å‚¨åœ¨Heapä¸Šï¼Œä¾¿äºç ”ç©¶æ‰€æœ‰æƒ**)

  * å­—ç¬¦ä¸²å­—é¢å€¼ï¼šç¨‹åºä¸­å†™æ­»çš„å­—ç¬¦ä¸²å€¼ï¼Œä¸å¯å˜(``&strç±»å‹``)

  * å¯å˜å­—ç¬¦ä¸²å€¼ï¼šä¾‹å¦‚éœ€è¦è¾“å…¥å­—ç¬¦ä¸²``=>``æœªçŸ¥å¤§å°åœ¨Heapä¸­ç”³è¯·å†…å­˜(``Stringç±»å‹``)

    ```rust
    fn main() {
        let mut s = String::from("hello"); // s comes into scope
    
        s.push_str(", world!"); // push_str() appends a literal to a String
    
        println!("{}", s); // This will print `hello, world!`
    }
    ```

    * ä½¿ç”¨``from``å‡½æ•°ä»å­—ç¬¦ä¸²å­—é¢å€¼åˆ›å»ºå‡ºStringç±»å‹ï¼Œè¿™ç±»å­—ç¬¦ä¸²æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œwhy?

* **å†…å­˜å’Œåˆ†é…**

  * å¯¹äºå­—ç¬¦ä¸²å­—é¢å€¼ï¼Œæˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶å°±çŸ¥é“äº†ä»–çš„å†…å®¹ï¼Œå…¶æ–‡æœ¬å†…å®¹ç›´æ¥è¢«ç¡¬ç¼–ç åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­(åŒæ—¶å­—ç¬¦ä¸²å­—é¢å€¼ä¸å¯è¢«å£°æ˜ä¸º``mut``)

    ```rust
    let str = "hello, world";
    let met str1 = "hello"; // Err! 
    ```

    * é€Ÿåº¦å¿«ã€é«˜æ•ˆã€**å› ä¸ºå…¶ä¸å¯å˜æ€§**

  * å¯¹äºStringç±»å‹ï¼Œä¸ºäº†**æ”¯æŒå¯å˜æ€§**ï¼Œéœ€è¦åœ¨heapä¸Šåˆ†é…å†…å­˜æ¥ä¿å­˜ç¼–è¯‘æ—¶æœªçŸ¥çš„æ–‡æœ¬å†…å®¹

    ```rust
    let mut s = String::from("hello");
    ```

    * æ“ä½œç³»ç»Ÿå¿…é¡»åœ¨è¿è¡Œæ—¶ç”³è¯·å†…å­˜ï¼Œ``String::from``
    
    * å½“ç”¨å®ŒStringåï¼Œéœ€è¦å°†å†…å­˜è¿”è¿˜ç»™æ“ä½œç³»ç»Ÿ
      * åœ¨æ‹¥æœ‰GCçš„è¯­è¨€(Java)ä¸­ï¼ŒGCä¼šè·Ÿè¸ªå¹¶æ¸…ç†ä¸å†ä½¿ç”¨çš„å†…å­˜
      * æ²¡æœ‰GCå°±éœ€è¦æˆ‘ä»¬å»è¯†åˆ«å†…å­˜ä½•æ—¶ä¸å†ä½¿ç”¨ï¼Œå¹¶è°ƒç”¨ä»£ç å°†ä»–è¿”å›(C/C++)
      * **åœ¨Rustä¸­ï¼Œå¯¹äºæŸä¸ªå€¼ï¼Œå½“æ‹¥æœ‰ä»–çš„å˜é‡èµ°å‡ºä½œç”¨åŸŸæ—¶ï¼Œå†…å­˜å°±ä¼šç«‹å³è‡ªåŠ¨çš„äº¤è¿˜ç»™æ“ä½œç³»ç»Ÿ(ä¸ç”¨æ‰‹åŠ¨free)**
    
    * **Rustä¸­çš„dropå‡½æ•°ï¼šå½“å˜é‡èµ°å‡ºä½œç”¨åŸŸï¼ŒRustä¼šè‡ªåŠ¨è°ƒç”¨dropå‡½æ•°è¿›è¡Œå†…å­˜å›æ”¶**
    
    * **å˜é‡å’Œæ•°æ®äº¤äº’çš„æ–¹å¼:Move**
    
      * å¤šä¸ªå˜é‡å¯ä»¥ä¸åŒä¸€ä¸ªæ•°æ®ä½¿ç”¨ä¸€ç§ç‹¬ç‰¹çš„æ–¹å¼æ¥äº¤äº’
    
        ```rust
        let x = 5;
        let y = x;
        ```
    
      * æ•´æ•°æ˜¯å·²çŸ¥ä¸”å›ºå®šå¤§å°çš„å€¼ï¼Œè¿™ä¸¤ä¸ª5è¢«å‹åˆ°äº†stackä¸­
    
      * Stringç±»å‹
    
        ```rust
        let s1 = String::from("hello");
        let s2 = s1;
        ```
    
      * Stringç±»å‹çš„ç»“æ„
    
        <img src = "img/Stringç»“æ„.svg" height = 300>
    
        * ``ptr/len/capacity``çš„å¤§å°ç¡®å®šï¼Œå­˜æ”¾åœ¨stack
        * å­—ç¬¦ä¸²çš„å†…å®¹å­˜æ”¾åœ¨heap
    
      * s1çš„Stringçš„æ•°æ®è¢«å¤åˆ¶äº†ä¸€ä»½ç»™s2ï¼Œå¦‚ä¸‹å›¾
    
        <img src="img/s2=s1.svg" height = "300">
        
        * åœ¨stackä¸Šå¤åˆ¶äº†ä¸€ä»½æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡
        * **å¹¶æ²¡å¤åˆ¶æŒ‡é’ˆæ‰€æŒ‡å‘çš„heapä¸Šçš„æ•°æ®ï¼Œæœ€å°åŒ–heapä¸Šçš„é‡å¤æ•°æ®é‡**
        
      * å½“s1,s2ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼ŒRustè‡ªåŠ¨è°ƒç”¨dropå‡½æ•°ï¼Œå¹¶å°†å˜é‡ä½¿ç”¨çš„heapå†…å­˜é‡Šæ”¾
    
      * **å½“s1,s2ç¦»å¼€æ—¶ï¼Œä»–ä»¬éƒ½å°è¯•é‡Šæ”¾ç›¸åŒçš„ä¸€å—å†…å­˜ï¼š``double free bug``**
    
    * ä¸ºäº†ä¿è¯å†…å­˜å®‰å…¨ï¼ŒRustæ²¡æœ‰å°è¯•å¤åˆ¶è¢«åˆ†é…çš„å†…å­˜ï¼Œè€Œæ˜¯é€‰æ‹©**è®©``s1``å¤±æ•ˆ**ï¼Œ**åˆ™å½“s1ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå¹¶ä¸éœ€è¦é‡Šæ”¾ä»»ä½•å†…å­˜ï¼Œç”±s2è¿›è¡Œå†…å­˜é‡Šæ”¾**
    
      ```rust
      fn main() {
          let mut s = String::from("hello"); // s comes into scope
      
          s.push_str(", world!"); // push_str() appends a literal to a String
      
          println!("{}", s); // This will print `hello, world!`
      
          let s2 = s; // s2 is a copy of the pointer, length, and capacity of s
          // println!("{}", s); // This will throw an error because s has been moved to s2
      }
      ```
    
    * **æµ…æ‹·è´/æ·±æ‹·è´**ï¼šRustä¸ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®çš„æ·±æ‹·è´(å½±å“è¿è¡Œæ—¶æ€§èƒ½ï¼Œç±»ä¼¼äºæµ…æ‹·è´çš„æ¦‚å¿µ)
    
    * **æˆ‘ä»¬å°†Rustä¸­è¿™ç§ä½¿s1å¤±æ•ˆçš„å¤åˆ¶è¡Œä¸ºç§°ä¸ºç§»åŠ¨Move**
    
      <img src = "img/Move.svg" height = 300>
    

* **å…‹éš†(Clone)**

  * å¦‚æœçœŸæƒ³å¯¹heapä¸Šçš„æ•°æ®è¿›è¡Œæ·±æ‹·è´ï¼Œå¯ä»¥ä½¿ç”¨``clone``æ–¹æ³•

    ```rust
    fn main() {
        let mut s = String::from("hello"); // s comes into scope
    
        s.push_str(", world!"); // push_str() appends a literal to a String
        
        let s2 = s.clone(); // s2 is a copy of the pointer, length, and capacity of s
        println!("s: {}, s2: {}", s, s2); // This will print `hello, world!` twice
    }
    ```

  * å°†heapä¸Šçš„Stringæ•°æ®å…‹éš†åå¦‚ä¸‹å›¾ï¼šå¤ªæ¶ˆè€—èµ„æºäº†ï¼

    <img src = "img/clone.svg" height = 400>

* **å¤åˆ¶(Copy)**

  * å¯¹äºstackä¸Šçš„æ•°æ®ï¼Œä¸éœ€è¦cloneï¼Œåªéœ€è¦copy

    ```rust
    fn main() {
        let x = 5;
        let y = x;
        println!("x: {}, y: {}", x, y);
    }
    ```

  * Rustæä¾›äº†Copy traitï¼Œå¯ä»¥ç”¨äºæ•´æ•°è¿™æ ·å®Œå…¨å­˜æ”¾äºstackä¸Šé¢çš„ç±»å‹

  * å¦‚æœä¸€ä¸ªç±»å‹å®ç°äº†Copyè¿™ä¸ªtraitï¼Œé‚£ä¹ˆæ—§çš„å˜é‡åœ¨èµ‹å€¼åä»ç„¶å¯ç”¨

    * ä»»ä½•ç®€å•æ ‡é‡çš„ç»„åˆç±»å‹éƒ½å¯ä»¥Copyï¼šæ•´æ•°/å¸ƒå°”/æµ®ç‚¹/å­—ç¬¦/Tuple(å…¶ä¸­å­—æ®µéƒ½ä¸ºCopy)
    * éœ€è¦åˆ†é…å†…å­˜çš„éƒ½ä¸æ˜¯Copyçš„

  * å¦‚æœä¸€ä¸ªç±»å‹æˆ–è€…è¯¥ç±»å‹çš„ä¸€éƒ¨åˆ†å®ç°äº†Drop trait(é’ˆå¯¹äºHeap),é‚£ä¹ˆRustä¸å…è®¸è®©ä»–å†å»å®ç°Copy trait(é’ˆå¯¹äºStack)

#### 4.6.3 æ‰€æœ‰æƒä¸å‡½æ•°

* åœ¨è¯­ä¹‰ä¸Šï¼ŒæŠŠå€¼ä¼ é€’ç»™å‡½æ•°å’ŒæŠŠå€¼ä¼ é€’ç»™å˜é‡æ˜¯ç±»ä¼¼çš„

* **ç»™ä¸€ä¸ªå‡½æ•°è¿›è¡Œä¼ å‚æ—¶ä¼šå‘ç”ŸMove/Copy,è¿™ç”±ä¼ å‚çš„æ•°æ®ç±»å‹å†³å®š,å’Œèµ‹å€¼çš„è¿‡ç¨‹æ˜¯ç›¸åŒçš„**

* ä¸€ä¸ªä¾‹å­

  ```rust
  fn main() {
      let s = String::from("hello"); // s comes into scope
      takes_ownership(s); // s's value moves into the function and so is no longer valid here
      // println!("{}", s); // This will throw an error because s has been moved to the function
  
      let x = 5; // x comes into scope
      makes_copy(x); // x would move into the function, but i32 is Copy, so itâ€™s okay to still use x afterward
      println!("{}", x); // This will print `5`
  
  }
  
  fn takes_ownership(some_string: String) { // some_string comes into scope
      println!("{}", some_string);
  } // Here, some_string goes out of scope and `drop` is called. The backing memory is freed.
  
  fn makes_copy(some_integer: i32) { // some_integer comes into scope
      println!("{}", some_integer);
  } // Here, some_integer goes out of scope. Nothing special happens.
  ```

* **è¿”å›å€¼ä¸ä½œç”¨åŸŸ**

  * å‡½æ•°åœ¨è¿”å›å€¼çš„è¿‡ç¨‹ä¸­åŒæ ·ä¹Ÿä¼šå‘ç”Ÿ``ownership``çš„è½¬ç§»ï¼šè¿”å›å€¼çš„æ‰€æœ‰æƒè½¬å‘æ¥æ”¶è€…

  * ä¸€ä¸ªä¾‹å­

    ```rust
    fn main() {
        let s1 = gives_ownership(); // gives_ownership moves its return value into s1
        let s2 = String::from("hello"); // s2 comes into scope
    
        let s3 = takes_and_gives_back(s2); // s2 is moved into takes_and_gives_back, which also moves its return value into s3
        println!("s1: {}, s3: {}", s1, s3);
    }
    
    fn gives_ownership() -> String {
        let some_string = String::from("hello");
        some_string
    }
    
    fn takes_and_gives_back(a_string: String) -> String {
        a_string
    }
    ```

* **ä¸€ä¸ªå˜é‡çš„æ‰€æœ‰æƒæ€»æ˜¯éµå¾ªåŒæ ·çš„æ¨¡å¼**

  * **æŠŠä¸€ä¸ªå€¼èµ‹ç»™å…¶ä»–å˜é‡æ—¶å°±ä¼šå‘ç”ŸMove/Copy**
  * **å½“ä¸€ä¸ªåŒ…å«heapæ•°æ®çš„å˜é‡ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œä»–çš„å€¼å°±ä¼šè¢«dropå‡½æ•°æ¸…ç†ï¼Œé™¤éæ•°æ®æ‰€æœ‰æƒç§»åŠ¨åˆ°äº†å¦ä¸€ä¸ªå˜é‡ä¸Š**

* å¦‚ä½•è®©ä¸€ä¸ªå˜é‡ä½¿ç”¨å¦ä¸€ä¸ªå˜é‡çš„å€¼ä½†ä¸æ‹¿èµ°æ‰€æœ‰æƒï¼Ÿ

  * **å¯ä»¥é€šè¿‡è¿”å›åŸå˜é‡çš„æ–¹å¼æ‹¿å›æ‰€æœ‰æƒ**

    ```rust
    fn main() {
        let s1 = String::from("hello");
    
        let (s2, len) = calculate_length(s1);
    
        println!("The length of '{}' is {}.", s2, len);
    }
    
    fn calculate_length(s: String) -> (String, usize) {
        let length = s.len(); // len() returns the length of a String
    
        (s, length)
    }
    ```

  * ä½†æ˜¯è¯¥æ–¹å¼æœ‰äº›ä¸‘é™‹ï¼Œ**Rustæä¾›äº†ä¸€ä¸ªä½¿ç”¨å€¼è€Œä¸æ‹¿èµ°æ‰€æœ‰æƒçš„æ–¹å¼ï¼šå¼•ç”¨(``refferences``)ï¼Œæˆ‘ä»¬åœ¨ä¸‹ä¸€èŠ‚ä¸­è¯¦ç»†è®²è¿°**



## TIPS: useful plugins for RUST

* rust analyzerï¼šRun/Debug(å½“ç„¶å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ)
* Code LLDBï¼šä»£ç è°ƒè¯•
* Even Better TOMLï¼šç¼–è¾‘.tomlæ–‡ä»¶
* Dependiï¼šç®¡ç†cratesç‰ˆæœ¬

* git-commit-pluginï¼šè§„èŒƒæäº¤ä¿¡æ¯